---

import { EXPLORE } from '../../consts/explore';
import Layout from '../../layouts/Layout.astro';
import Cakes from '../../sections/Cakes.astro';


export async function getStaticPaths() {
  return EXPLORE.map(selection => ({
    params: { id: selection.id },
    props: { selection }
  }));
}

const { selection } = Astro.props;

const product = {
  name: "Mango Passionfruit",
  description: "Mango ice cream passionfruit sorbet, mango pieces, passionfruit swirl.",
  allergens: ["Milk"],
  ingredients: ["Mango", "Passionfruit", "Sugar", "Cream"]
}
---

<Layout description="How to order" title="How to Order">
    
<section class="flex flex-col pt-30 p-4 justify-center items-center text-center text-white pb-20" style={{ background: `${selection.props.bg}`, }}>
    <h1 class="text-5xl mx-2 px-8 font-bold" >{selection.title}</h1>
    <p class="text-xl text-center m-10">
       {selection.description}
    </p>
    <img class="animate-slideIn" src={`${selection.img}.webp`} alt="Floral Cake"/>    


    <section class="p-4 rounded-xl space-y-6 text-black text-left">
        <div class="flex gap-2 justify-start">
          <a href="/order" class="flex items-center bg-white text-black font-bold px-8 py-3 rounded-full "> Order Now</a>
        </div>
        <div class="bg-white text-left text-black p-4 rounded-3xl shadow">
          <h2 class="text-2xl pb-3 font-bold">{selection.title}</h2>
          <p class="text-md">{product.description}</p>
        </div>

        <!-- Allergens -->
        <details class="bg-white  p-4 rounded-3xl shadow group">
          <summary class="font-bold text-xl cursor-pointer flex justify-between items-center">
            Allergens
            <span class="text-2xl transition-transform -rotate-90 group-open:rotate-90">{'<'}</span>
          </summary>
          <hr class="my-2 border-pink-400" />
          <ul class="text-md list-image-none ">
            {product.allergens.map(item => <li>{item}</li>)}
          </ul>
        </details>
    </section>
</section>

<Cakes/>
     
</Layout>